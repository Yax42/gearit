
-- #BeginAutoGenerated
-- Auto generated code, do NOT modify
if Input:pressed(K_E) then
end

-- #EndAutoGenerated
isSlow = Input:Pressed(K_LeftControl)

speed = 1
if isSlow then
	speed = 0.2
	spot11.Motor = -1
else
	spot11.Motor = 1
end

-- DEPLACEMENT ---------------------------------------
highSpeed = 0.4
if Input:Pressed(K_LeftShift) then
	highSpeed = 1
end
spot9.FreeWheel = not Input:Pressed(K_Space)
spot10.FreeWheel = not Input:Pressed(K_Space)

if Input:pressed(K_D) then
	spot9.Motor = highSpeed
	spot10.Motor = highSpeed
	spot9.FreeWheel = false
	spot10.FreeWheel = false
elseif Input:pressed(K_A) then
	spot9.Motor = -highSpeed
	spot10.Motor = -highSpeed
	spot9.FreeWheel = false
	spot10.FreeWheel = false
else
	spot9.Motor = 0
	spot10.Motor = 0
end

if Input:pressed(K_W) and not inShell then
	spot9.FreeWheel = true
	spot10.FreeWheel = true
	spot7.Motor = -0.2 * speed
	spot8.Motor = 0.2 * speed
elseif Input:pressed(K_S) then
	spot7.Motor = 0.05
	spot8.Motor = -0.05
	spot9.FreeWheel = true
	spot10.FreeWheel = true
end
-- CARAPACE ---------------------------------------

if Input:JustPressed(K_F) then
	shelling = true
end
if shelling then
	if not inShell then
		if not spot7:isBetween(0.3, 0.4) then
			spot7:AddLimitsCycle(1)
			spot8:AddLimitsCycle(-1)
			spot7.Motor = 0.1
			spot8.Motor = -0.1
		else
			shelling = false
			inShell = true
		end
	else
		if not spot7:isBetween(0, 0.1) then
			spot7:AddLimitsCycle(1)
			spot8:AddLimitsCycle(-1)
			spot7.Motor = 0.1
			spot8.Motor = -0.1
		else
			shelling = false
			inShell = false
		end
	end
end

-- RAQUETTE ---------------------------------------
	if Input:pressed(K_Up) and not isTortue then
		spot3.Motor = -1
		spot1.Motor = 1
		spot4.Motor = 1
		spot2.Motor = -1
	else
		spot3.Motor = 0.2
		spot1.Motor = -0.2
		spot4.Motor = -0.2
		spot2.Motor = 0.2
	end

	if Input:pressed(K_Left) then
		spot0.Motor = -0.1 * speed
	elseif Input:pressed(K_Right) then
		spot0.Motor = 0.1 * speed
	else
		spot0.Motor = 0
	end

-- TORTUE ---------------------------------------
if Input:Pressed(K_E) then
	isTortue = true
	spot4.Motor = 0.1
	spot2.Motor = -0.1
	count = 20
elseif isTortue then
	spot4.Motor = -1
	spot2.Motor = 1	
	count = count - 1
	isTortue = count > 0
end

if Input:Pressed(K_Q) then
	isTortue = true
	spot3.Motor = -0.1
	spot1.Motor = 0.1
	count = 20
elseif isTortue then
	spot3.Motor = 1
	spot1.Motor = -1	
	count = count - 1
	isTortue = count > 0
end